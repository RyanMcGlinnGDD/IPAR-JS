!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(){i=document.getElementById("window"),g=document.getElementById("canvas"),h=g.getContext("2d"),g.width=g.offsetWidth,g.height=g.offsetHeight,console.log("Canvas Dimensions: "+g.width+", "+g.height),j=document.getElementById("windowFlim"),j.onclick=function(){i.innerHTML=""},l=Date.now(),m=0,f=new n(localStorage.caseFiles,g,i),k=document.getElementById("zoom-slider"),k.oninput=function(){f.updateZoom(-parseFloat(k.value))},document.getElementById("zoom-in").onclick=function(){k.stepDown(),f.updateZoom(-parseFloat(k.value))},document.getElementById("zoom-out").onclick=function(){k.stepUp(),f.updateZoom(-parseFloat(k.value))},f.onChangeBoard=function(){changeZoomSlider(-parseFloat(k.value)-f.getZoom())},f.scale=q.getScale(p.boardSize,new o(g.width,g.height))}function e(){window.requestAnimationFrame(e.bind(this)),m=Date.now()-l,l=Date.now(),f.update(h,g,m),f.active&&""!=i.innerHTML&&r++>3?(f.active=!1,j.style.display="block"):0!=r&&""==i.innerHTML&&(r=0,f.active=!0,j.style.display="none")}var f,g,h,i,j,k,l,m,n=a("./modules/game.js"),o=a("./modules/point.js"),p=(a("./modules/mouseState.js"),a("./modules/constants.js")),q=a("./modules/utilities.js"),r=0;window.onload=function(a){d(),e()},window.addEventListener("resize",function(a){g.width=g.offsetWidth,g.height=g.offsetHeight,f.scale=q.getScale(p.boardSize,new o(g.width,g.height)),console.log("Canvas Dimensions: "+g.width+", "+g.height)})},{"./modules/constants.js":5,"./modules/game.js":8,"./modules/mouseState.js":11,"./modules/point.js":12,"./modules/utilities.js":16}],2:[function(a,b,c){"use strict";function d(a,b){this.position=a,this.lessonNodeArray=b,this.boardOffset=a,this.prevBoardOffset={x:0,y:0},this.zoom=h.startZoom,this.stage=0}var e=a("./utilities.js"),f=a("./point.js"),g=a("./question.js"),h=a("./constants.js"),i=a("./drawlib.js");d.drawLib=void 0;var j=d.prototype;j.move=function(a,b){this.position.x+=a,this.position.y+=b,this.boardOffset={x:0,y:0},this.prevBoardOffset={x:0,y:0}},j.act=function(a,b){for(var c=0;c<this.lessonNodeArray.length;c++){var d=this.lessonNodeArray[c];if(d.currentState!=g.SOLVE_STATE.SOLVED&&d.question.currentState==g.SOLVE_STATE.SOLVED){for(var h=0;h<d.question.connections.length;h++)this.lessonNodeArray[d.question.connections[h]-1].connections++;d.currentState=d.question.currentState}d.question.currentState==g.SOLVE_STATE.SOLVED&&(d.linePercent=Math.min(1,b/2e3+d.linePercent)),console.log(d.question.revealThreshold)}!a.mouseDown&&this.target&&(this.target.dragPosition=void 0,this.target.dragging=!1,this.target=null);for(var c=this.lessonNodeArray.length-1;c>=0&&null==this.target;c--){var i=this.lessonNodeArray[c];i.mouseOver=!1,e.mouseIntersect(a,i,this.boardOffset)&&(i.mouseOver=!0,this.target=i)}this.target&&(this.target.dragging?(this.target.position.x=a.virtualPosition.x-this.target.dragPosition.x,this.target.position.y=a.virtualPosition.y-this.target.dragPosition.y):(a.mouseDown&&(this.target.dragging=!0,this.target.dragPosition=new f(a.virtualPosition.x-this.target.position.x,a.virtualPosition.y-this.target.position.y)),a.mouseClicked&&this.target.click(a))),null==this.target&&(a.mouseDown?(canvas.style.cursor="-webkit-grabbing",canvas.style.cursor="-moz-grabbing",canvas.style.cursor="grabbing",this.mouseStartDragBoard?(this.boardOffset.x=this.prevBoardOffset.x-(a.virtualPosition.x-this.mouseStartDragBoard.x),this.boardOffset.x>this.maxBoardWidth/2&&(this.boardOffset.x=this.maxBoardWidth/2),this.boardOffset.x<-1*this.maxBoardWidth/2&&(this.boardOffset.x=-1*this.maxBoardWidth/2),this.boardOffset.y=this.prevBoardOffset.y-(a.virtualPosition.y-this.mouseStartDragBoard.y),this.boardOffset.y>this.maxBoardHeight/2&&(this.boardOffset.y=this.maxBoardHeight/2),this.boardOffset.y<-1*this.maxBoardHeight/2&&(this.boardOffset.y=-1*this.maxBoardHeight/2)):(this.mouseStartDragBoard=a.virtualPosition,this.prevBoardOffset.x=this.boardOffset.x,this.prevBoardOffset.y=this.boardOffset.y)):(this.mouseStartDragBoard=void 0,canvas.style.cursor=""))},j.draw=function(a,b){a.save(),a.translate(b.width/2,b.height/2),a.scale(this.zoom,this.zoom),a.translate(-b.width/2,-b.height/2),this.position=this.boardOffset,a.translate(b.width/2-this.position.x,b.height/2-this.position.y),i.rect(a,0,0,h.boardSize.x,h.boardSize.y,"#D3B185"),i.strokeRect(a,-h.boardOutline/2,-h.boardOutline/2,h.boardSize.x+h.boardOutline/2,h.boardSize.y+h.boardOutline/2,h.boardOutline,"#CB9966");for(var c=0;c<this.lessonNodeArray.length;c++)this.lessonNodeArray[c].draw(a,b);for(var c=0;c<this.lessonNodeArray.length;c++)if(this.lessonNodeArray[c].question.currentState==g.SOLVE_STATE.SOLVED){var d=this.lessonNodeArray[c].getNodePoint();a.strokeStyle="rgba(0,0,105,0.2)",a.lineWidth=1;for(var e=0;e<this.lessonNodeArray[c].question.connections.length;e++)if(this.lessonNodeArray[this.lessonNodeArray[c].question.connections[e]-1].question.currentState!=g.SOLVE_STATE.HIDDEN){var f=this.lessonNodeArray[this.lessonNodeArray[c].question.connections[e]-1],j=f.getNodePoint();a.lineWidth=.002,a.strokeStyle="black",a.beginPath(),a.moveTo(d.x,d.y),a.lineTo(d.x+(j.x-d.x)*this.lessonNodeArray[c].linePercent,d.y+(j.y-d.y)*this.lessonNodeArray[c].linePercent),a.closePath(),a.stroke()}}a.restore()},b.exports=d},{"./constants.js":5,"./drawlib.js":7,"./point.js":12,"./question.js":13,"./utilities.js":16}],3:[function(a,b,c){"use strict";function d(a,b,c){this.position=position,this.width=b,this.height=c,this.clicked=!1,this.hovered=!1}d.drawLib=void 0;var e=d.prototype;e.draw=function(a){a.save();var b;b=this.hovered?"dodgerblue":"lightblue",boardButton.drawLib.rect(a,this.position.x-this.width/2,this.position.y-this.height/2,this.width,this.height,b),a.restore()},b.exports=d},{}],4:[function(a,b,c){"use strict";function d(a,b,c,d,f,g){this.name=a;var h=b.getElementsByTagName("button");this.questions=[];for(var i=0;i<h.length;i++)this.questions[i]=new e(h[i],c,d,f,g)}var e=a("./question.js");b.exports=d},{"./question.js":13}],5:[function(a,b,c){"use strict";var d=a("./point.js"),e=b.exports;e.boardSize=new d(1920,1080),e.boardOutline=e.boardSize.x>e.boardSize.y?e.boardSize.x/20:e.boardSize.y/20,e.startZoom=1.5},{"./point.js":12}],6:[function(a,b,c){"use strict";var d=b.exports;d.clear=function(a,b,c,d,e){a.clearRect(b,c,d,e)},d.rect=function(a,b,c,d,e,f,g){a.save(),a.fillStyle=f,g?a.fillRect(b-d/2,c-e/2,d,e):a.fillRect(b,c,d,e),a.restore()},d.strokeRect=function(a,b,c,d,e,f,g,h){a.save(),a.strokeStyle=g,a.lineWidth=f,h?a.strokeRect(b-d/2,c-e/2,d,e):a.strokeRect(b,c,d,e),a.restore()},d.line=function(a,b,c,d,e,f,g){a.save(),a.beginPath(),a.moveTo(b,c),a.lineTo(d,e),a.lineWidth=f,a.strokeStyle=g,a.stroke(),a.restore()},d.circle=function(a,b,c,d,e){a.save(),a.beginPath(),a.arc(b,c,d,0,2*Math.PI,!1),a.fillStyle=e,a.fill(),a.restore()}},{}],7:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],8:[function(a,b,c){"use strict";function d(a,b,c){var d=this;this.active=!1,this.mouseState=new j(b),i.parseData(a,c,function(a,b){d.categories=a,d.createLessonNodes()})}var e=a("./board.js"),f=a("./point.js"),g=a("./lessonNode.js"),h=(a("./constants.js"),a("./drawlib.js")),i=a("./iparDataParser.js"),j=a("./mouseState.js"),k=d.prototype;k.createLessonNodes=function(){this.boardArray=[];for(var a=document.getElementById("bottomBar"),b=0;b<this.categories.length;b++){this.lessonNodes=[];for(var c=0;c<this.categories[b].questions.length;c++)this.lessonNodes.push(new g(new f(this.categories[b].questions[c].positionPercentX,this.categories[b].questions[c].positionPercentY),this.categories[b].questions[c].imageLink,this.categories[b].questions[c])),this.lessonNodes[this.lessonNodes.length-1].question=this.categories[b].questions[c];this.boardArray.push(new e(new f(canvas.width/(2*this.scale),canvas.height/(2*this.scale)),this.lessonNodes));var d=document.createElement("BUTTON");d.innerHTML=this.categories[b].name;var h=this;d.onclick=function(a){return function(){h.active&&(h.activeBoardIndex=a,h.onChangeBoard&&h.onChangeBoard())}}(b),a.appendChild(d)}this.activeBoardIndex=0,this.active=!0},k.updateZoom=function(a){this.active&&(this.boardArray[this.activeBoardIndex].zoom=a)},k.getZoom=function(){return this.boardArray[this.activeBoardIndex].zoom},k.update=function(a,b,c){this.active&&(this.mouseState.update(c,this.scale*this.boardArray[this.activeBoardIndex].zoom),this.draw(a,b),this.boardArray[this.activeBoardIndex].act(this.mouseState,c))},k.draw=function(a,b){h.rect(a,0,0,b.width,b.height,"#15718F"),a.save(),a.translate(b.width/2,b.height/2),a.scale(this.scale,this.scale),a.translate(-b.width/2,-b.height/2),this.boardArray[this.activeBoardIndex].draw(a,b),a.restore()},b.exports=d},{"./board.js":2,"./constants.js":5,"./drawlib.js":7,"./iparDataParser.js":9,"./lessonNode.js":10,"./mouseState.js":11,"./point.js":12}],9:[function(a,b,c){"use strict";function d(a,b,c,d){window.resolveLocalFileSystemURL(b+"active/saveFile.ipardata",function(b){b.file(function(b){var c=new FileReader;c.onloadend=function(){var b=i.getXml(this.result);e(a,b.getElementsByTagName("question"));var c=b.getElementsByTagName("case")[0].getAttribute("caseStatus");d(a,c)},c.readAsText(b)},function(a){console.log("Error: "+a.message)})})}function e(a,b){console.log(b);for(var c=0,d=0;d<a.length;d++)for(var e=0;e<a[d].questions.length;e++){var f=a[d].questions[e],g=b[c];f.currentState=m[g.getAttribute("questionState")],f.justification&&(f.justification.value=g.getAttribute("justification")),f.currentState==k.SOLVE_STATE.SOLVED&&f.correctAnswer(),f.positionPercentX=i.map(parseInt(g.getAttribute("positionPercentX")),0,100,0,j.boardSize.x),f.positionPercentY=i.map(parseInt(g.getAttribute("positionPercentY")),0,100,0,j.boardSize.y),c++}}function f(a,b,c,d){if(null!=a){for(var e=a.getElementsByTagName("resourceList")[0].getElementsByTagName("resource"),f=[],i=0;i<e.length;i++)f[i]=new h(e[i],b);for(var j=a.getElementsByTagName("category"),k=a.getElementsByTagName("categoryList")[0].getElementsByTagName("element"),l=[],i=0;i<j.length;i++)l[i]=new g(k[i].innerHTML,j[i],f,b,c,d);return l}return null}var g=a("./category.js"),h=a("./resources.js"),i=a("./utilities.js"),j=a("./constants.js"),k=a("./question.js"),l=a("./questionWindows.js");window.resolveLocalFileSystemURL=window.resolveLocalFileSystemURL||window.webkitResolveLocalFileSystemURL;var m={hidden:k.SOLVE_STATE.HIDDEN,unsolved:k.SOLVE_STATE.UNSOLVED,correct:k.SOLVE_STATE.SOLVED},n=b.exports;n.parseData=function(a,b,c){this.categories=[],this.questions=[];var e=new l(function(){window.resolveLocalFileSystemURL(a+"active/caseFile.ipardata",function(g){g.file(function(g){var h=new FileReader;h.onloadend=function(){var g=i.getXml(this.result),h=f(g,a,b,e);d(h,a,b,c)},h.readAsText(g)},function(a){console.log("Error: "+a.message)})})})}},{"./category.js":4,"./constants.js":5,"./question.js":13,"./questionWindows.js":14,"./resources.js":15,"./utilities.js":16}],10:[function(a,b,c){"use strict";function d(a,b,c){this.position=a,this.dragLocation=void 0,this.mouseOver=!1,this.dragging=!1,this.type="lessonNode",this.image=new Image,this.width,this.height,this.question=c,this.connections=0,this.currentState=this.question.currentState,this.linePercent=0,c.currentState==e.SOLVE_STATE.SOLVED&&(this.linePercent=1);var d=this;this.image.onload=function(){d.width=d.image.naturalWidth,d.height=d.image.naturalHeight;var a=f.boardSize.x/10;if(d.width<a&&d.height<a){var b;b=d.width>d.height?a/d.width:a/d.height,d.width=d.width*b,d.height=d.height*b}if(d.width>a||d.height>a){var b;b=d.width>d.height?d.width/a:d.height/a,d.width=d.width/b,d.height=d.height/b}d.position.x+=d.width/2,d.position.y+=d.height/2},this.image.src=b}var e=(a("./drawLib.js"),a("./question.js")),f=a("./constants.js"),g=a("./point.js"),e=a("./question.js"),h=d.prototype;h.draw=function(a,b){if(this.question.currentState==e.SOLVE_STATE.HIDDEN){if(!(this.question.revealThreshold<=this.connections))return;this.question.currentState=e.SOLVE_STATE.UNSOLVED}switch(a.save(),this.dragging?(a.shadowColor="yellow",a.shadowBlur=5,b.style.cursor="-webkit-grabbing",b.style.cursor="-moz-grabbing",b.style.cursor="grabbing"):this.mouseOver&&(a.shadowColor="dodgerBlue",a.shadowBlur=5,b.style.cursor="pointer"),a.drawImage(this.image,this.position.x-this.width/2,this.position.y-this.height/2,this.width,this.height),this.question.currentState){case 1:a.fillStyle="blue",a.strokeStyle="cyan";break;case 2:a.fillStyle="green",a.strokeStyle="yellow"}var c=this.width<this.height?this.width:this.height;a.lineWidth=c/32,a.beginPath();var d=this.getNodePoint();a.arc(d.x,d.y,3*c/32,0,2*Math.PI),a.closePath(),a.fill(),a.stroke(),a.restore()},h.getNodePoint=function(){var a=this.width<this.height?this.width:this.height;return new g(this.position.x-this.width/2+3*a/16,this.position.y-this.height/2+3*a/16)},h.click=function(a){this.question.displayWindows()},b.exports=d},{"./constants.js":5,"./drawLib.js":6,"./point.js":12,"./question.js":13}],11:[function(a,b,c){"use strict";function d(a){e=new i(0,0),f=new i(0,0),this.virtualPosition=new i(0,0);var b=this;a.addEventListener("mousemove",function(b){var c=a.getBoundingClientRect();e=new i(b.clientX-c.left,b.clientY-c.top),f=new i(e.x-a.offsetWidth/2,e.y-a.offsetHeight/2)}),this.mouseDown=!1,a.addEventListener("mousedown",function(a){b.mouseDown=!0}),a.addEventListener("mouseup",function(a){b.mouseDown=!1}),this.mouseIn=!1,g=0,this.mouseClicked=!1,h=200,a.addEventListener("mouseover",function(a){b.mouseIn=!0}),a.addEventListener("mouseout",function(a){b.mouseIn=!1,b.mouseDown=!1})}var e,f,g,h,i=a("./point.js"),j=d.prototype;j.update=function(a,b){this.virtualPosition=new i(f.x/b,f.y/b),this.mouseClicked=!1,this.mouseDown?g+=a:(g>0&&h>g&&(this.mouseClicked=!0),g=0),this.prevMouseDown=this.mouseDown,this.hasTarget=!1},b.exports=d},{"./point.js":12}],12:[function(a,b,c){"use strict";function d(a,b){this.x=a,this.y=b}var e=d.prototype;e.add=function(a,b){return b?new d(this.x+a,this.y+b):new d(this.x+a.x,this.y+a.y)},e.mult=function(a,b){return b?new d(this.x*a,this.y*b):new d(this.x*a.x,this.y*a.y)},e.scale=function(a){return new d(this.x*a,this.y*a)},b.exports=d},{}],13:[function(a,b,c){"use strict";function d(a,b,c,d,h){this.currentState=g.HIDDEN,this.windowDiv=d,this.correct=parseInt(a.getAttribute("correctAnswer")),this.positionPercentX=e.map(parseInt(a.getAttribute("xPositionPercent")),0,100,0,f.boardSize.x),this.positionPercentY=e.map(parseInt(a.getAttribute("yPositionPercent")),0,100,0,f.boardSize.y),this.revealThreshold=parseInt(a.getAttribute("revealThreshold")),this.imageLink=c+a.getAttribute("imageLink"),this.feedbacks=a.getElementsByTagName("feedback");var i=a.getElementsByTagName("connections");this.connections=[];for(var j=0;j<i.length;j++)this.connections[j]=parseInt(i[j].innerHTML);switch(this.questionType=parseInt(a.getAttribute("questionType")),this.justification=1==this.questionType||3==this.questionType,5!=this.questionType&&(console.log(JSON.stringify(h)),this.createTaskWindow(a,h.taskWindow),this.createResourceWindow(a,b,h.resourceWindow,h.resource)),this.questionType){case 5:this.createMessageWindow(a,h.messageWindow);break;case 4:this.createFileWindow(h.fileWindow);break;case 3:case 2:case 1:this.createAnswerWindow(a,h.answerWindow)}}var e=a("./utilities.js"),f=a("./constants.js"),g=Object.freeze({HIDDEN:0,UNSOLVED:1,SOLVED:2}),h=(Object.freeze({JUSTIFICATION:1,MULTIPLE_CHOICE:2,SHORT_RESPONSE:3,FILE:4,MESSAGE:5}),d.prototype);h.wrongAnswer=function(a){this.feedbacks.length>0&&(this.feedback.innerHTML='"'+String.fromCharCode(a+"A".charCodeAt())+'" is not correct <br/>&nbsp;<span class="feedbackI">'+this.feedbacks[a].innerHTML+"</span><br/>")},h.correctAnswer=function(){if(this.answers)for(var a=0;a<this.answers.length;a++)this.answers[a].disabled=!0;if(this.feedbacks.length>0&&(this.feedback.innerHTML='"'+String.fromCharCode(this.correct+"A".charCodeAt())+'" is the correct response <br/><span class="feedbackI">'+this.feedbacks[this.correct].innerHTML+"</span><br/>"),3===this.questionType&&""!=this.justification.value&&(this.feedback.innerHTML='Submitted Text:<br/><span class="feedbackI">'+this.justification.value+"</span><br/>"),1===this.questionType&&""!=this.justification.value&&(this.feedback.innerHTML+='Submitted Text:<br/><span class="feedbackI">'+this.justification.value+"</span><br/>"),4===this.questionType){this.fileInput.files.length>0?this.feedback.innerHTML="Submitted Files:<br/>":this.feedback.innerHTML="";for(var a=0;a<this.fileInput.files.length;a++)this.feedback.innerHTML+='<span class="feedbackI">'+this.fileInput.files[a].name+"</span><br/>"}this.currentState!=g.SOLVED&&((3===this.questionType||1===this.questionType)&&""!=this.justification.value||4===this.questionType&&this.fileInput.files.length>0||2===this.questionType)&&(this.currentState=g.SOLVED)},h.displayWindows=function(){var a=this.windowDiv,b=new Image;b.src="../img/iconClose.png",b.className="exit-button";var c=this;b.onclick=function(){c.windowDiv.innerHTML=""},5===this.questionType?(a.appendChild(this.message),b.style.left="75vw"):(a.appendChild(this.task),a.appendChild(this.answer),a.appendChild(this.resource),b.style.left="85vw"),a.appendChild(b)},h.createTaskWindow=function(a,b){this.task=document.createElement("DIV"),this.task.className="window",this.task.style.top="10vh",this.task.style.left="5vw",this.task.innerHTML=b,this.task.innerHTML=this.task.innerHTML.replace("%title%",a.getElementsByTagName("questionName")[0].innerHTML.replace(/\n/g,"<br/>")),this.task.innerHTML=this.task.innerHTML.replace("%instructions%",a.getElementsByTagName("instructions")[0].innerHTML.replace(/\n/g,"<br/>")),this.task.innerHTML=this.task.innerHTML.replace("%question%",a.getElementsByTagName("questionText")[0].innerHTML.replace(/\n/g,"<br/>")),this.feedback=this.task.getElementsByClassName("feedback")[0]},h.createResourceWindow=function(a,b,c,d){this.resource=document.createElement("DIV"),this.resource.className="window",this.resource.style.top="55vh",this.resource.style.left="5vw",this.resource.innerHTML=c;var e=a.getElementsByTagName("resourceIndex");if(e.length>0){for(var f="",g=0;g<e.length;g++){var h=d.replace("%icon%",b[parseInt(e[g].innerHTML)].icon);h=h.replace("%title%",b[parseInt(e[g].innerHTML)].title),h=h.replace("%link%",b[parseInt(e[g].innerHTML)].link),f+=h}this.resource.innerHTML=this.resource.innerHTML.replace("%resources%",f)}else this.resource.innerHTML=this.resource.innerHTML.replace("%resources%","No resources have been provided for this task."),this.resource.getElementsByClassName("windowContent")[0].style.color="grey",this.resource.getElementsByClassName("windowContent")[0].style.backgroundColor="#FFFFFF",this.resource.getElementsByClassName("windowContent")[0].className+=", center"},h.createAnswerWindow=function(a,b){this.answer=document.createElement("DIV"),this.answer.className="window",this.answer.style.top="10vh",this.answer.style.left="50vw",this.answer.innerHTML=b;var c=this;this.justification&&(this.justification=document.createElement("textarea"),this.justification.submit=document.createElement("button"),this.justification.submit.className="submit",this.justification.submit.innerHTML="Submit",this.justification.submit.disabled=!0,this.justification.submit.onclick=function(){c.correctAnswer()},this.justification.addEventListener("input",function(){c.justification.value.length>0?c.justification.submit.disabled=!1:c.justification.submit.disabled=!0},!1)),this.answers=[];for(var d=a.getElementsByTagName("answer"),e=parseInt(a.getAttribute("correctAnswer")),f=0;f<d.length;f++)this.justification&&(this.justification.disabled=!0),this.answers[f]=document.createElement("button"),e===f?this.answers[f].className="correct":this.answers[f].className="wrong",this.answers[f].innerHTML=String.fromCharCode(f+"A".charCodeAt())+". "+d[f].innerHTML;for(var f=0;f<this.answers.length;f++)"wrong"==this.answers[f].className?(this.answers[f].num=f,this.answers[f].onclick=function(){questions.disabled=!0,c.wrongAnswer(this.num)}):this.answers[f].onclick=function(){c.justification&&(c.justification.disabled=!1),c.correctAnswer()};for(var f=0;f<this.answers.length;f++)this.answer.getElementsByClassName("windowContent")[0].appendChild(this.answers[f]);this.justification&&(this.answer.getElementsByClassName("windowContent")[0].appendChild(this.justification),this.answer.getElementsByClassName("windowContent")[0].appendChild(this.justification.submit))},h.createFileWindow=function(a){this.answer=document.createElement("DIV"),this.answer.className="window",this.answer.style.top="10vh",this.answer.style.left="50vw",this.answer.innerHTML=a,this.fileInput=this.answer.getElementsByTagName("input")[0];var b=this;this.fileInput.onchange=function(){b.correctAnswer()}},h.createMessageWindow=function(a,b){this.message=document.createElement("DIV"),this.message.className="window",this.message.style.top="10vh",this.message.style.left="40vw",this.message.innerHTML=b,this.message.innerHTML=this.message.innerHTML.replace("%title%",a.getElementsByTagName("questionName")[0].innerHTML.replace(/\n/g,"<br/>")),this.message.innerHTML=this.message.innerHTML.replace("%instructions%",a.getElementsByTagName("instructions")[0].innerHTML.replace(/\n/g,"<br/>")),this.message.innerHTML=this.message.innerHTML.replace("%question%",a.getElementsByTagName("questionText")[0].innerHTML.replace(/\n/g,"<br/>"));var c=this;this.message.getElementsByTagName("button")[0].onclick=function(){c.currentState=g.SOLVED,c.windowDiv.innerHTML=""}},b.exports=d,b.exports.SOLVE_STATE=g},{"./constants.js":5,"./utilities.js":16}],14:[function(a,b,c){function d(a){this.loadWindows(a)}var e=d.prototype;e.loadWindows=function(a){var b=0,c=function(){++b>=6&&a&&a()};this.loadTaskWindow(c),this.loadResourceWindow(c),this.loadAnswerWindow(c),this.loadFileWindow(c),this.loadMessageWindow(c),this.loadResource(c)},e.loadTaskWindow=function(a){var b=this,c=new XMLHttpRequest;c.onreadystatechange=function(){4==c.readyState&&200==c.status&&(b.taskWindow=c.responseText,a&&a())},c.open("GET","taskWindow.html",!0),c.send()},e.loadResourceWindow=function(a){var b=this,c=new XMLHttpRequest;c.onreadystatechange=function(){4==c.readyState&&200==c.status&&(b.resourceWindow=c.responseText,a&&a())},c.open("GET","resourceWindow.html",!0),c.send()},e.loadResource=function(a){var b=this,c=new XMLHttpRequest;c.onreadystatechange=function(){4==c.readyState&&200==c.status&&(b.resource=c.responseText,a&&a())},c.open("GET","resource.html",!0),c.send()},e.loadAnswerWindow=function(a){var b=this,c=new XMLHttpRequest;c.onreadystatechange=function(){4==c.readyState&&200==c.status&&(b.answerWindow=c.responseText,a&&a())},c.open("GET","answerWindow.html",!0),c.send()},e.loadFileWindow=function(a){var b=this,c=new XMLHttpRequest;c.onreadystatechange=function(){4==c.readyState&&200==c.status&&(b.fileWindow=c.responseText,a&&a())},c.open("GET","fileWindow.html",!0),c.send()},e.loadMessageWindow=function(a){var b=this,c=new XMLHttpRequest;c.onreadystatechange=function(){4==c.readyState&&200==c.status&&(b.messageWindow=c.responseText,a&&a())},c.open("GET","messageWindow.html",!0),c.send()},b.exports=d},{}],15:[function(a,b,c){"use strict";function d(a,b){var c=parseInt(a.getAttribute("type"));switch(c){case 0:this.icon="../img/iconResourceFile.png";break;case 1:this.icon="../img/iconResourceLink.png";break;case 2:this.icon="../img/iconResourceVideo.png";break;default:this.icon=""}this.title=a.getAttribute("text"),c>0?this.link=a.getAttribute("link"):this.link=b+"assets/files/"+a.getAttribute("link").replace(/ /g,"%20")}a("./question.js");b.exports=d},{"./question.js":13}],16:[function(a,b,c){"use strict";var d=a("./point.js"),e=b.exports;e.getMouse=function(a){return new d(a.pageX-a.target.offsetLeft,a.pageY-a.target.offsetTop)},e.map=function(a,b,c,d,e){return d+(e-d)*((a-b)/(c-b))},e.clamp=function(a,b,c){return Math.max(b,Math.min(c,a))},e.mouseIntersect=function(a,b,c){return a.virtualPosition.x>b.position.x-b.width/2-c.x&&a.virtualPosition.x<b.position.x+b.width/2-c.x?a.virtualPosition.y>b.position.y-b.height/2-c.y&&a.virtualPosition.y<b.position.y+b.height/2-c.y:!1},e.getXml=function(a){var b;if(window.DOMParser){var c=new DOMParser;b=c.parseFromString(a,"text/xml")}else b=new ActiveXObject("Microsoft.XMLDOM"),b.async=!1,b.loadXML(a);return b},e.getScale=function(a,b){return b.y/a.x*a.y<b.x?b.y/a.y:b.x/a.x}},{"./point.js":12}]},{},[1,2,3,4,5,7,8,9,10,11,12,13,14,15,16]);