!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(){i=document.getElementById("window"),g=document.getElementById("canvas"),h=g.getContext("2d"),g.width=g.offsetWidth,g.height=g.offsetHeight,console.log("Canvas Dimensions: "+g.width+", "+g.height),j=document.getElementById("windowFlim"),j.onclick=function(){i.innerHTML=""},l=new v(0,0),m=new v(0,0),g.addEventListener("mousemove",function(a){var b=g.getBoundingClientRect();l=new v(a.clientX-b.left,a.clientY-b.top),m=new v(l.x-g.offsetWidth/2,l.y-g.offsetHeight/2)}),n=!1,g.addEventListener("mousedown",function(a){n=!0}),g.addEventListener("mouseup",function(a){n=!1}),o=!1,p=0,q=!1,r=200,g.addEventListener("mouseover",function(a){o=!0}),g.addEventListener("mouseout",function(a){o=!1,n=!1}),s=Date.now(),t=0,f=new u(localStorage.caseFiles,i)}function e(){window.requestAnimationFrame(e.bind(this)),t=Date.now()-s,s=Date.now(),q=!1,n?p+=t:(p>0&&r>p&&(q=!0),p=0),f.update(h,g,t,new w(l,m,n,o,q)),f.active&&""!=i.innerHTML&&x++>3?(f.active=!1,j.style.display="block"):0!=x&&""==i.innerHTML&&(x=0,f.active=!0,j.style.display="none")}var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=a("./modules/game.js"),v=a("./modules/point.js"),w=a("./modules/mouseState.js"),x=0;window.onload=function(a){d(),e()},window.addEventListener("resize",function(a){g.width=g.offsetWidth,g.height=g.offsetHeight,k=new v(g.width/2,g.height/2),console.log("Canvas Dimensions: "+g.width+", "+g.height)})},{"./modules/game.js":8,"./modules/mouseState.js":11,"./modules/point.js":13}],2:[function(a,b,c){"use strict";function d(a,b){this.position=a,this.lessonNodeArray=b,this.boardOffset={x:0,y:0},this.prevBoardOffset={x:0,y:0}}var e=a("./utilities.js"),f=a("./point.js"),g=a("./question.js");d.drawLib=void 0;var h=d.prototype;h.move=function(a,b){this.position.x+=a,this.position.y+=b,this.boardOffset={x:0,y:0},this.prevBoardOffset={x:0,y:0}},h.act=function(a){for(var b=0;b<this.lessonNodeArray.length;b++){var c=this.lessonNodeArray[b];if(c.currentState!=g.SOLVE_STATE.SOLVED&&c.question.currentState==g.SOLVE_STATE.SOLVED){for(var d=0;d<c.question.connections.length;d++)this.lessonNodeArray[c.question.connections[d]-1].connections++;c.currentState=c.question.currentState}}for(var h=!1,b=this.lessonNodeArray.length-1;b>=0;b--)this.lessonNodeArray[b].dragging&&(a.hasTarget=!0);for(var b=this.lessonNodeArray.length-1;b>=0;b--){var i=this.lessonNodeArray[b];a.mouseDown||(i.dragPosition=void 0,i.dragging=!1),i.mouseOver=!1,h||(e.mouseIntersect(a,i,this.boardOffset,1)&&(i.mouseOver=!0,h=!0,a.hasTarget=!0,a.mouseDown&&!this.prevMouseState.mouseDown&&(i.dragging=!0,i.dragPosition=new f(a.relativePosition.x-i.position.x,a.relativePosition.y-i.position.y)),a.mouseClicked&&i.click(a)),i.dragging&&(i.position.x=a.relativePosition.x-i.dragPosition.x,i.position.y=a.relativePosition.y-i.dragPosition.y))}a.hasTarget||(a.mouseDown?(canvas.style.cursor="-webkit-grabbing",canvas.style.cursor="-moz-grabbing",canvas.style.cursor="grabbing",this.mouseStartDragBoard?(this.boardOffset.x=this.prevBoardOffset.x-(a.relativePosition.x-this.mouseStartDragBoard.x),this.boardOffset.x>this.maxBoardWidth/2&&(this.boardOffset.x=this.maxBoardWidth/2),this.boardOffset.x<-1*this.maxBoardWidth/2&&(this.boardOffset.x=-1*this.maxBoardWidth/2),this.boardOffset.y=this.prevBoardOffset.y-(a.relativePosition.y-this.mouseStartDragBoard.y),this.boardOffset.y>this.maxBoardHeight/2&&(this.boardOffset.y=this.maxBoardHeight/2),this.boardOffset.y<-1*this.maxBoardHeight/2&&(this.boardOffset.y=-1*this.maxBoardHeight/2)):(this.mouseStartDragBoard=a.relativePosition,this.prevBoardOffset.x=this.boardOffset.x,this.prevBoardOffset.y=this.boardOffset.y)):(this.mouseStartDragBoard=void 0,canvas.style.cursor="")),this.prevMouseState=a},h.draw=function(a,b,c){a.save(),this.position=this.boardOffset,a.translate(c.x-this.position.x,c.y-this.position.y);for(var d=0;d<this.lessonNodeArray.length;d++)this.lessonNodeArray[d].question.revealThreshold>this.lessonNodeArray[d].linksAwayFromOrigin||this.lessonNodeArray[d].draw(a,b);for(var d=0;d<this.lessonNodeArray.length;d++)if(this.lessonNodeArray[d].question.currentState==g.SOLVE_STATE.SOLVED){var e=this.lessonNodeArray[d].position.x-this.lessonNodeArray[d].width*this.lessonNodeArray[d].scaleFactor/2+15,f=this.lessonNodeArray[d].position.y-this.lessonNodeArray[d].height*this.lessonNodeArray[d].scaleFactor/2+15;a.strokeStyle="rgba(0,0,105,0.2)",a.lineWidth=1;for(var h=0;h<this.lessonNodeArray[d].question.connections.length;h++)if(this.lessonNodeArray[this.lessonNodeArray[d].question.connections[h]-1].question.currentState!=g.SOLVE_STATE.HIDDEN){var i=this.lessonNodeArray[this.lessonNodeArray[d].question.connections[h]-1],j=i.position,k=i.width,l=i.height,m=i.scaleFactor;a.beginPath(),a.moveTo(e,f),a.lineTo(j.x-k*m/2+15,j.y-l*m/2+15),a.closePath(),a.stroke()}}a.restore()},b.exports=d},{"./point.js":13,"./question.js":14,"./utilities.js":16}],3:[function(a,b,c){"use strict";function d(a,b,c){this.position=position,this.width=b,this.height=c,this.clicked=!1,this.hovered=!1}d.drawLib=void 0;var e=d.prototype;e.draw=function(a){a.save();var b;b=this.hovered?"dodgerblue":"lightblue",boardButton.drawLib.rect(a,this.position.x-this.width/2,this.position.y-this.height/2,this.width,this.height,b),a.restore()},b.exports=d},{}],4:[function(a,b,c){"use strict";function d(a,b,c,d,f){this.name=a;var g=b.getElementsByTagName("button");this.questions=[];for(var h=0;h<g.length;h++)this.questions[h]=new e(g[h],c,d,f)}var e=a("./question.js");b.exports=d},{"./question.js":14}],5:[function(a,b,c){"use strict";var d=b.exports;d.boardSize={x:1920,y:1080},d.boardScale=2},{}],6:[function(a,b,c){"use strict";var d=b.exports;d.clear=function(a,b,c,d,e){a.clearRect(b,c,d,e)},d.rect=function(a,b,c,d,e,f,g){a.save(),a.fillStyle=f,g?a.fillRect(b-d/2,c-e/2,d,e):a.fillRect(b,c,d,e),a.restore()},d.line=function(a,b,c,d,e,f,g){a.save(),a.beginPath(),a.moveTo(b,c),a.lineTo(d,e),a.lineWidth=f,a.strokeStyle=g,a.stroke(),a.restore()},d.circle=function(a,b,c,d,e){a.save(),a.beginPath(),a.arc(b,c,d,0,2*Math.PI,!1),a.fillStyle=e,a.fill(),a.restore()}},{}],7:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],8:[function(a,b,c){"use strict";function d(a,b){var c=this;this.active=!1,l.parseData(a,b,function(a){c.categories=a,c.createLessonNodes()})}var e,f,g,h=a("./board.js"),i=a("./point.js"),j=a("./drawLib.js"),k=a("./lessonNode.js"),l=(a("./utilities.js"),a("./iparDataParser.js")),m=d.prototype;m.createLessonNodes=function(){this.boardArray=[];for(var a=document.getElementById("bottomBar"),b=0;b<this.categories.length;b++){this.lessonNodes=[];for(var c=0;c<this.categories[b].questions.length;c++)this.lessonNodes.push(new k(new i(this.categories[b].questions[c].positionPercentX,this.categories[b].questions[c].positionPercentY),this.categories[b].questions[c].imageLink,this.categories[b].questions[c])),this.lessonNodes[this.lessonNodes.length-1].question=this.categories[b].questions[c];this.boardArray.push(new h(new i(0,0),this.lessonNodes));var d=document.createElement("BUTTON");d.innerHTML=this.categories[b].name;var e=this;d.onclick=function(a){return function(){e.active&&(e.activeBoardIndex=a)}}(b),a.appendChild(d)}this.activeBoardIndex=0,this.active=!0},m.update=function(a,b,c,d){this.active&&(f=e,e=d,g=0,"undefined"==typeof f&&(f=e),this.draw(a,b),this.boardArray[this.activeBoardIndex].act(d))},m.draw=function(a,b){a.save(),j.clear(a,0,0,b.offsetWidth,b.offsetHeight),j.rect(a,0,0,b.offsetWidth,b.offsetHeight,"white",!1),j.line(a,b.offsetWidth/2,0,b.offsetWidth/2,b.offsetHeight,2,"lightgray"),j.line(a,0,b.offsetHeight/2,b.offsetWidth,b.offsetHeight/2,2,"lightGray"),a.restore(),this.boardArray[this.activeBoardIndex].draw(a,b,{x:b.offsetWidth/2,y:b.offsetHeight/2})},b.exports=d},{"./board.js":2,"./drawLib.js":6,"./iparDataParser.js":9,"./lessonNode.js":10,"./point.js":13,"./utilities.js":16}],9:[function(a,b,c){"use strict";function d(a,b,c){if(null!=a){for(var d=a.getElementsByTagName("resourceList")[0].getElementsByTagName("resource"),g=[],h=0;h<d.length;h++)g[h]=new f(d[h],b);for(var i=a.getElementsByTagName("category"),j=a.getElementsByTagName("categoryList")[0].getElementsByTagName("element"),k=[],h=0;h<i.length;h++)k[h]=new e(j[h].innerHTML,i[h],g,b,c);return k}return null}var e=a("./category.js"),f=a("./resources.js"),g=a("./utilities.js");window.resolveLocalFileSystemURL=window.resolveLocalFileSystemURL||window.webkitResolveLocalFileSystemURL;var h=b.exports;h.parseData=function(a,b,c){this.categories=[],this.questions=[],window.resolveLocalFileSystemURL(a+"active/caseFile.ipardata",function(e){e.file(function(e){var f=new FileReader;f.onloadend=function(){var e=g.getXml(this.result),f=d(e,a,b);c(f)},f.readAsText(e)},function(a){console.log("Error: "+a.message)})})}},{"./category.js":4,"./resources.js":15,"./utilities.js":16}],10:[function(a,b,c){"use strict";function d(a,b,c){this.position=a,this.dragLocation=void 0,this.mouseOver=!1,this.dragging=!1,this.scaleFactor=1,this.type="lessonNode",this.image=new Image,this.width,this.height,this.question=c,this.connections=0,this.currentState=this.question.currentState;var d=this;this.image.onload=function(){d.width=d.image.naturalWidth,d.height=d.image.naturalHeight;var a=100;if(d.width<a&&d.height<a){var b;b=d.width>d.height?a/d.width:a/d.height,d.width=d.width*b,d.height=d.height*b}if(d.width>a||d.height>a){var b;b=d.width>d.height?d.width/a:d.height/a,d.width=d.width/b,d.height=d.height/b}},this.image.src=b}var e=(a("./drawLib.js"),a("./question.js")),f=d.prototype;f.draw=function(a,b){if(this.question.currentState==e.SOLVE_STATE.HIDDEN){if(!(this.question.revealThreshold<=this.connections))return;this.question.currentState=e.SOLVE_STATE.UNSOLVED}switch(a.save(),this.dragging?(a.shadowColor="yellow",a.shadowBlur=5,b.style.cursor="-webkit-grabbing",b.style.cursor="-moz-grabbing",b.style.cursor="grabbing"):this.mouseOver&&(a.shadowColor="dodgerBlue",a.shadowBlur=5,b.style.cursor="pointer"),a.drawImage(this.image,this.position.x-this.width*this.scaleFactor/2,this.position.y-this.height*this.scaleFactor/2,this.width*this.scaleFactor,this.height*this.scaleFactor),this.question.currentState){case 1:a.fillStyle="blue",a.strokeStyle="cyan";break;case 2:a.fillStyle="green",a.strokeStyle="yellow"}a.lineWidth=2,a.beginPath(),a.arc(this.position.x-this.width*this.scaleFactor/2+15,this.position.y-this.height*this.scaleFactor/2+15,6,0,2*Math.PI),a.closePath(),a.fill(),a.stroke(),a.restore()},f.click=function(a){this.question.displayWindows()},b.exports=d},{"./drawLib.js":6,"./question.js":14}],11:[function(a,b,c){"use strict";function d(a,b,c,d,e){this.position=a,this.relativePosition=b,this.mouseDown=c,this.mouseIn=d,this.prevMouseDown=c,this.mouseClicked=e,this.hasTarget=!1}d.prototype;b.exports=d},{}],12:[function(a,b,c){"use strict";function d(a){j=!1,e(a),l=new q}function e(a){h=[];new p("./data/mydata.xml",f)}function f(a){g(a),j=!0}function g(a){a.forEach(function(a){for(var b=[],c=0;c<a.questions.length;c++)b.push(new o(new n(a.questions[c].positionPercentX,a.questions[c].positionPercentY),a.questions[c].imageLink,a.questions[c])),b[b.length-1].question=a.questions[c];h.push(new m(new n(0,0),b))}),i=3}var h,i,j,k,l,m=a("../board.js"),n=a("../point.js"),o=a("../lessonNode.js"),p=a("../iparDataParser.js"),n=(a("../question.js"),a("../point.js")),q=a("../utilities.js"),r=1e3,s=800,t=void 0,u={x:0,y:0},v={x:0,y:0},w=d.prototype;w.update=function(a,b,c,d,e,f,g){w.act(f),w.draw(a,b,d,e),i&&h[i].update()},w.act=function(a){if(void 0!=i){for(var b=!1,c=h[i].lessonNodeArray.length-1;c>=0;c--)h[i].lessonNodeArray[c].dragging&&(a.hasTarget=!0);for(var c=h[i].lessonNodeArray.length-1;c>=0;c--){var d=h[i].lessonNodeArray[c];a.mouseDown||(d.dragPosition=void 0,d.dragging=!1),d.mouseOver=!1,b||(l.mouseIntersect(a,d,u,1)&&(d.mouseOver=!0,b=!0,a.hasTarget=!0,a.mouseDown&&!k.mouseDown&&(d.dragging=!0,d.dragPosition=new n(a.relativePosition.x-d.position.x,a.relativePosition.y-d.position.y)),a.mouseClicked&&d.click(a)),d.dragging&&(d.position.x=a.relativePosition.x-d.dragPosition.x,d.position.y=a.relativePosition.y-d.dragPosition.y))}}a.hasTarget||(a.mouseDown?t?(u.x=v.x-(a.relativePosition.x-t.x),u.x>r/2&&(u.x=r/2),u.x<-1*r/2&&(u.x=-1*r/2),u.y=v.y-(a.relativePosition.y-t.y),u.y>s/2&&(u.y=s/2),u.y<-1*s/2&&(u.y=-1*s/2),console.log(u)):(t=a.relativePosition,v.x=u.x,v.y=u.y):t=void 0),k=a},w.draw=function(a,b,c,d){void 0!=i&&h[i].draw(a,c,d,u)},b.exports=d},{"../board.js":2,"../iparDataParser.js":9,"../lessonNode.js":10,"../point.js":13,"../question.js":14,"../utilities.js":16}],13:[function(a,b,c){"use strict";function d(a,b){this.x=a,this.y=b}d.prototype;b.exports=d},{}],14:[function(a,b,c){"use strict";function d(a,b,c,d){this.currentState=g.HIDDEN,this.windowDiv=d,this.correct=parseInt(a.getAttribute("correctAnswer")),this.positionPercentX=e.map(parseInt(a.getAttribute("xPositionPercent")),0,100,0,f.boardSize.x),this.positionPercentY=e.map(parseInt(a.getAttribute("yPositionPercent")),0,100,0,f.boardSize.y),this.revealThreshold=parseInt(a.getAttribute("revealThreshold")),this.imageLink=c+a.getAttribute("imageLink"),this.feedbacks=a.getElementsByTagName("feedback");var h=a.getElementsByTagName("connections");this.connections=[];for(var i=0;i<h.length;i++)this.connections[i]=parseInt(h[i].innerHTML);switch(this.questionType=parseInt(a.getAttribute("questionType")),this.justification=1==this.questionType||3==this.questionType,5!=this.questionType&&(this.createTaskWindow(a),this.createResourceWindow(a,b)),this.questionType){case 5:this.createMessageWindow(a);break;case 4:this.createFileWindow();break;case 3:case 2:case 1:this.createAnswerWindow(a)}}var e=a("./utilities.js"),f=a("./constants.js"),g=Object.freeze({HIDDEN:0,UNSOLVED:1,SOLVED:2}),h=(Object.freeze({JUSTIFICATION:1,MULTIPLE_CHOICE:2,SHORT_RESPONSE:3,FILE:4,MESSAGE:5}),d.prototype);h.wrongAnswer=function(a){this.feedbacks.length>0&&(this.feedback.innerHTML='"'+String.fromCharCode(a+"A".charCodeAt())+'" is not correct <br/>&nbsp;<span class="feedbackI">'+this.feedbacks[a].innerHTML+"</span><br/>")},h.correctAnswer=function(){if(this.feedbacks.length>0&&(this.feedback.innerHTML='"'+String.fromCharCode(this.correct+"A".charCodeAt())+'" is the correct response <br/><span class="feedbackI">'+this.feedbacks[this.correct].innerHTML+"</span><br/>"),3===this.questionType&&""!=this.justification.value&&(this.feedback.innerHTML='Submitted Text:<br/><span class="feedbackI">'+this.justification.value+"</span><br/>"),1===this.questionType&&""!=this.justification.value&&(this.feedback.innerHTML+='Submitted Text:<br/><span class="feedbackI">'+this.justification.value+"</span><br/>"),4===this.questionType){this.fileInput.files.length>0?this.feedback.innerHTML="Submitted Files:<br/>":this.feedback.innerHTML="";for(var a=0;a<this.fileInput.files.length;a++)this.feedback.innerHTML+='<span class="feedbackI">'+this.fileInput.files[a].name+"</span><br/>"}this.currentState!=g.SOLVED&&((3===this.questionType||1===this.questionType)&&""!=this.justification.value||4===this.questionType&&this.fileInput.files.length>0||2===this.questionType)&&(this.currentState=g.SOLVED)},h.displayWindows=function(){var a=this.windowDiv,b=new Image;b.src="../img/iconClose.png",b.className="exit-button";var c=this;b.onclick=function(){c.windowDiv.innerHTML=""},5===this.questionType?(a.appendChild(this.message),b.style.left="75vw"):(a.appendChild(this.task),a.appendChild(this.answer),a.appendChild(this.resource),b.style.left="85vw"),a.appendChild(b)},h.createTaskWindow=function(a){var b=this,c=new XMLHttpRequest;c.onreadystatechange=function(){4==c.readyState&&200==c.status&&(b.task=document.createElement("DIV"),b.task.className="window",b.task.style.top="10vh",b.task.style.left="5vw",b.task.innerHTML=c.responseText,b.task.innerHTML=b.task.innerHTML.replace("%title%",a.getElementsByTagName("questionName")[0].innerHTML.replace(/\n/g,"<br/>")),b.task.innerHTML=b.task.innerHTML.replace("%instructions%",a.getElementsByTagName("instructions")[0].innerHTML.replace(/\n/g,"<br/>")),b.task.innerHTML=b.task.innerHTML.replace("%question%",a.getElementsByTagName("questionText")[0].innerHTML.replace(/\n/g,"<br/>")),b.feedback=b.task.getElementsByClassName("feedback")[0])},c.open("GET","taskWindow.html",!0),c.send()},h.createResourceWindow=function(a,b){var c=this,d=new XMLHttpRequest;d.onreadystatechange=function(){if(4==d.readyState&&200==d.status){c.resource=document.createElement("DIV"),c.resource.className="window",c.resource.style.top="55vh",c.resource.style.left="5vw",c.resource.innerHTML=d.responseText;var e=a.getElementsByTagName("resourceIndex");if(e.length>0){var f=new XMLHttpRequest;f.onreadystatechange=function(){if(4==f.readyState&&200==f.status){for(var a="",d=0;d<e.length;d++){var g=f.responseText.replace("%icon%",b[parseInt(e[d].innerHTML)].icon);g=g.replace("%title%",b[parseInt(e[d].innerHTML)].title),g=g.replace("%link%",b[parseInt(e[d].innerHTML)].link),a+=g}c.resource.innerHTML=c.resource.innerHTML.replace("%resources%",a)}},f.open("GET","resource.html",!0),f.send()}else c.resource.innerHTML=c.resource.innerHTML.replace("%resources%","No resources have been provided for this task."),c.resource.getElementsByClassName("windowContent")[0].style.color="grey",c.resource.getElementsByClassName("windowContent")[0].style.backgroundColor="#FFFFFF",c.resource.getElementsByClassName("windowContent")[0].className+=", center"}},d.open("GET","resourceWindow.html",!0),d.send()},h.createAnswerWindow=function(a){var b=this,c=new XMLHttpRequest;c.onreadystatechange=function(){if(4==c.readyState&&200==c.status){b.answer=document.createElement("DIV"),b.answer.className="window",b.answer.style.top="10vh",b.answer.style.left="50vw",b.answer.innerHTML=c.responseText;b.justification&&(b.justification=document.createElement("textarea"),b.justification.submit=document.createElement("button"),b.justification.submit.className="submit",b.justification.submit.innerHTML="Submit",b.justification.submit.disabled=!0,b.justification.submit.onclick=function(){b.correctAnswer()},b.justification.addEventListener("input",function(){b.justification.value.length>0?b.justification.submit.disabled=!1:b.justification.submit.disabled=!0},!1));for(var d=[],e=a.getElementsByTagName("answer"),f=parseInt(a.getAttribute("correctAnswer")),g=0;g<e.length;g++)b.justification&&(b.justification.disabled=!0),d[g]=document.createElement("button"),f===g?d[g].className="correct":d[g].className="wrong",d[g].innerHTML=String.fromCharCode(g+"A".charCodeAt())+". "+e[g].innerHTML;for(var g=0;g<d.length;g++)"wrong"==d[g].className?(d[g].num=g,d[g].onclick=function(){this.disabled=!0,b.wrongAnswer(this.num)}):d[g].onclick=function(){for(var a=0;a<d.length;a++)d[a].disabled=!0;b.justification&&(b.justification.disabled=!1),b.correctAnswer()};for(var g=0;g<d.length;g++)b.answer.getElementsByClassName("windowContent")[0].appendChild(d[g]);b.justification&&(b.answer.getElementsByClassName("windowContent")[0].appendChild(b.justification),b.answer.getElementsByClassName("windowContent")[0].appendChild(b.justification.submit))}},c.open("GET","answerWindow.html",!0),c.send()},h.createFileWindow=function(){var a=this,b=new XMLHttpRequest;b.onreadystatechange=function(){4==b.readyState&&200==b.status&&(a.answer=document.createElement("DIV"),a.answer.className="window",a.answer.style.top="10vh",a.answer.style.left="50vw",a.answer.innerHTML=b.responseText,a.fileInput=a.answer.getElementsByTagName("input")[0],a.fileInput.onchange=function(){a.correctAnswer()})},b.open("GET","fileWindow.html",!0),b.send()},h.createMessageWindow=function(a){var b=this,c=new XMLHttpRequest;c.onreadystatechange=function(){4==c.readyState&&200==c.status&&(b.message=document.createElement("DIV"),b.message.className="window",b.message.style.top="10vh",b.message.style.left="40vw",b.message.innerHTML=c.responseText,b.message.innerHTML=b.message.innerHTML.replace("%title%",a.getElementsByTagName("questionName")[0].innerHTML.replace(/\n/g,"<br/>")),b.message.innerHTML=b.message.innerHTML.replace("%instructions%",a.getElementsByTagName("instructions")[0].innerHTML.replace(/\n/g,"<br/>")),b.message.innerHTML=b.message.innerHTML.replace("%question%",a.getElementsByTagName("questionText")[0].innerHTML.replace(/\n/g,"<br/>")),b.message.getElementsByTagName("button")[0].onclick=function(){b.currentState=g.SOLVED,b.windowDiv.innerHTML=""})},c.open("GET","messageWindow.html",!0),c.send()},b.exports=d,b.exports.SOLVE_STATE=g},{"./constants.js":5,"./utilities.js":16}],15:[function(a,b,c){"use strict";function d(a,b){var c=parseInt(a.getAttribute("type"));switch(c){case 0:this.icon="../img/iconResourceFile.png";break;case 1:this.icon="../img/iconResourceLink.png";break;case 2:this.icon="../img/iconResourceVideo.png";break;default:this.icon=""}this.title=a.getAttribute("text"),c>0?this.link=a.getAttribute("link"):this.link=b+"assets/files/"+a.getAttribute("link").replace(/ /g,"%20")}a("./question.js");b.exports=d},{"./question.js":14}],16:[function(a,b,c){"use strict";var d=a("./point.js"),e=b.exports;e.getMouse=function(a){return new d(a.pageX-a.target.offsetLeft,a.pageY-a.target.offsetTop)},e.map=function(a,b,c,d,e){return d+(e-d)*((a-b)/(c-b))},e.clamp=function(a,b,c){return Math.max(b,Math.min(c,a))},e.mouseIntersect=function(a,b,c,d){return a.relativePosition.x+c.x>b.position.x-d*b.width/2&&a.relativePosition.x+c.x<b.position.x+d*b.width/2?a.relativePosition.y+c.y>b.position.y-d*b.height/2&&a.relativePosition.y+c.y<b.position.y+d*b.height/2:!1},e.getXml=function(a){var b;if(window.DOMParser){var c=new DOMParser;b=c.parseFromString(a,"text/xml")}else b=new ActiveXObject("Microsoft.XMLDOM"),b.async=!1,b.loadXML(a);return b}},{"./point.js":13}]},{},[1,2,3,4,5,7,8,9,10,11,12,13,14,15,16]);